{% extends 'base.html' %}

{% block content %}
  <h2>Admin Inventory</h2>
  <p><a href="{{ url_for('inventory') }}">View public inventory</a></p>
  <h3>Add new item</h3>
  <form method="post" action="{{ url_for('add_item') }}">
    <label for="name">Name</label>
    <input name="name" id="name" required/>
    <label for="total">Total quantity</label>
    <input type="number" name="total" id="total" min="0" required />
    <button type="submit">Add</button>
  </form>
  <h3>Existing items</h3>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Total</th>
        <th>Available</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for it in items %}
        <tr>
          <td>{{ it.id }}</td>
          <td>{{ it.name }}</td>
          <td>{{ it.total }}</td>
          <td>{{ it.available }}</td>
          <td>
            <a href="{{ url_for('edit_item', item_id=it.id) }}">Edit</a> | 
            <form method="post" action="{{ url_for('delete_item', item_id=it.id) }}" class="inline" style="display:inline;">
              <button type="submit" onclick="return confirm('Delete item?');">Delete</button>
            </form>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
